{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?a27a"],"names":["class","for","value","loading","request","back","title","fio","phone","currency","amount","type","status","id","remove","hasChanges","update","$route","params","setup","route","router","store","dispatch","push","data","components","AppPage","AppLoader","AppStatus","render","__scopeId"],"mappings":"qNAGK,eAA8B,cAAtB,iBAAa,G,EACrB,eAAwB,cAAhB,WAAO,G,EACf,eAAsB,cAAd,SAAK,G,EACb,eAAuB,cAAf,UAAM,G,iBAAS,O,GAErBA,MAAM,gB,EACV,eAAkC,SAA3BC,IAAI,UAAS,UAAM,G,EAEzB,eAAsC,UAA9BC,MAAM,QAAO,YAAQ,G,EAC7B,eAA0C,UAAlCA,MAAM,aAAY,WAAO,G,EACjC,eAAuC,UAA/BA,MAAM,UAAS,WAAO,G,EAC9B,eAA4C,UAApCA,MAAM,WAAU,eAAW,G,SAO3BF,MAAM,0B,sJApBC,EAAAG,S,iBAAlB,eAAwC,YACd,EAAAC,S,iBAA1B,eAkBW,G,MAlBDC,KAAA,GAAyBC,MAAM,U,YACxC,iBAAyD,CAAzD,eAAyD,UAAtD,E,eAA8B,MAAG,eAAG,EAAAF,QAAQG,KAAG,KAClD,eAAqD,UAAlD,E,eAAwB,MAAG,eAAG,EAAAH,QAAQI,OAAK,KAC9C,eAA8D,UAA3D,E,eAAsB,MAAG,eAAG,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KACtD,eAAiF,UAA9E,E,EAA0B,eAAgD,GAAnCC,KAAM,EAAAP,QAAQQ,Q,mBAExD,eAQM,MARN,EAQM,CAPL,E,eACA,eAKS,UALDC,GAAG,S,qDAAkB,EAAAD,OAAM,K,CAClC,EACA,EACA,EACA,G,cAJ4B,EAAAA,YAQ9B,eAA2D,UAAnDZ,MAAM,aAAc,QAAK,8BAAE,EAAAc,QAAA,EAAAA,OAAA,sBAAQ,WACO,EAAAC,Y,iBAAlD,eAA+E,U,MAAvEf,MAAM,cAAe,QAAK,8BAAE,EAAAgB,QAAA,EAAAA,OAAA,sBAA0B,a,mDAE/D,eAAsF,KAAtF,EAA0C,gBAAa,eAAG,EAAAC,OAAOC,OAAOL,IAAK,OAAI,O,4GAYnE,GACdM,MADc,WAEb,IAAMC,EAAQ,iBACRC,EAAS,iBACTC,EAAQ,iBACRnB,EAAU,gBAAI,GACdC,EAAU,eAAI,IACdQ,EAAS,iBAEf,eAAS,wCAAC,2GACTT,EAAQD,OAAQ,EADP,SAEaoB,EAAMC,SAAS,mBAAoBH,EAAMF,OAAOL,IAF7D,OAETT,EAAQF,MAFC,OAGTU,EAAOV,MAAP,UAAeE,EAAQF,aAAvB,aAAe,EAAeU,OAC9BT,EAAQD,OAAQ,EAJP,4CAOV,IAAMa,EAAa,gBAAU,WAC5B,OAAOX,EAAQF,MAAMU,SAAWA,EAAOV,SAGlCY,EAAK,yDAAI,8GACRQ,EAAMC,SAAS,iBAAkBH,EAAMF,OAAOL,IADtC,OAEdQ,EAAOG,KAAK,KAFE,2CAAJ,qDAILR,EAAK,yDAAI,2GACRS,EADQ,iCACIrB,EAAQF,OADZ,IACmBU,OAAQA,EAAOV,MAAOW,GAAIO,EAAMF,OAAOL,KAD1D,SAERS,EAAMC,SAAS,iBAAkBE,GAFzB,OAGdrB,EAAQF,MAAMU,OAASA,EAAOV,MAHhB,2CAAJ,qDAKX,MAAO,CACNC,UACAC,UACAK,WAAA,KACAG,SACAG,aACAD,SACAE,WAGFU,WAAY,CAAEC,UAAA,KAASC,YAAA,KAAWC,YAAA,OCrEnC,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-2d0a4783.f0305b0b.js","sourcesContent":["<template>\r\n\t<app-loader v-if=\"loading\"></app-loader>\r\n\t<app-page back v-else-if=\"request\" title=\"Заявка\">\r\n\t\t<p><strong>Имя владельца</strong> : {{ request.fio }}</p>\r\n\t\t<p><strong>Телефон</strong> : {{ request.phone }}</p>\r\n\t\t<p><strong>Сумма</strong> : {{ currency(request.amount) }}</p>\r\n\t\t<p><strong>Статус</strong> : <app-status :type=\"request.status\"></app-status></p>\r\n\r\n\t\t<div class=\"form-control\">\r\n\t\t\t<label for=\"status\">Статус</label>\r\n\t\t\t<select id=\"status\" v-model=\"status\">\r\n\t\t\t\t<option value=\"done\">Завершен</option>\r\n\t\t\t\t<option value=\"cancelled\">Отменен</option>\r\n\t\t\t\t<option value=\"active\">Активен</option>\r\n\t\t\t\t<option value=\"pending\">Выполняется</option>\r\n\t\t\t</select>\r\n\t\t</div>\r\n\r\n\t\t<button class=\"btn danger\" @click=\"remove\">Удалить</button>\r\n\t\t<button class=\"btn primary\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\r\n\t</app-page>\r\n\t<h3 v-else class=\"text-center text-white\">Заявки с id: {{ $route.params.id }} нет</h3>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted, ref } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport AppPage from '../components/ui/AppPage.vue'\r\nimport AppLoader from '../components/ui/AppLoader.vue'\r\nimport AppStatus from '../components/ui/AppStatus.vue'\r\nimport { currency } from '../utils/currency'\r\n\r\nexport default {\r\n\tsetup() {\r\n\t\tconst route = useRoute()\r\n\t\tconst router = useRouter()\r\n\t\tconst store = useStore()\r\n\t\tconst loading = ref(true)\r\n\t\tconst request = ref({})\r\n\t\tconst status = ref()\r\n\r\n\t\tonMounted(async () => {\r\n\t\t\tloading.value = true\r\n\t\t\trequest.value = await store.dispatch('request/loadById', route.params.id)\r\n\t\t\tstatus.value = request.value?.status\r\n\t\t\tloading.value = false\r\n\t\t})\r\n\r\n\t\tconst hasChanges = computed( () => {\r\n\t\t\treturn request.value.status !== status.value\r\n\t\t})\r\n\r\n\t\tconst remove = async () => {\r\n\t\t\tawait store.dispatch('request/remove', route.params.id)\r\n\t\t\trouter.push('/')\r\n\t\t}\r\n\t\tconst update = async () => {\r\n\t\t\tconst data = { ...request.value, status: status.value, id: route.params.id }\r\n\t\t\tawait store.dispatch('request/update', data)\r\n\t\t\trequest.value.status = status.value\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tloading,\r\n\t\t\trequest,\r\n\t\t\tcurrency,\r\n\t\t\tstatus,\r\n\t\t\thasChanges,\r\n\t\t\tremove,\r\n\t\t\tupdate,\r\n\t\t}\r\n\t},\r\n\tcomponents: { AppPage, AppLoader, AppStatus }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import { render } from \"./Request.vue?vue&type=template&id=209966e0&scoped=true\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-209966e0\"\n\nexport default script"],"sourceRoot":""}